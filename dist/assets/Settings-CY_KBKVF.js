import{a as u,R as d,j as e,I as h,B as g,n as l}from"./index-xKrTDA7N.js";import{u as x}from"./employerStore-xRxrz2fF.js";import{C as o}from"./Checkbox-CgYu5-DF.js";function f(){const{user:s}=u(),{employers:m,updateEmployer:c}=x(),a=m.find(t=>t.id===(s==null?void 0:s.id)),[n,i]=d.useState((a==null?void 0:a.settings)||{allowEmployeeRegistration:!0,requireApproval:!0,maxOrdersPerEmployee:1}),p=async t=>{if(t.preventDefault(),!!(s!=null&&s.id))try{await c(s.id,{settings:n}),l.success("Einstellungen erfolgreich gespeichert")}catch{l.error("Fehler beim Speichern der Einstellungen")}};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsx("h1",{className:"text-2xl font-semibold mb-6",children:"Einstellungen"}),e.jsxs("form",{onSubmit:p,className:"space-y-6 bg-white p-6 rounded-lg shadow-sm",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{id:"allowRegistration",label:"Mitarbeiter können sich selbst registrieren",checked:n.allowEmployeeRegistration,onChange:t=>i(r=>({...r,allowEmployeeRegistration:t}))}),e.jsx(o,{id:"requireApproval",label:"Bestellungen müssen genehmigt werden",checked:n.requireApproval,onChange:t=>i(r=>({...r,requireApproval:t}))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maximale Anzahl Bestellungen pro Mitarbeiter"}),e.jsx(h,{type:"number",min:1,max:5,value:n.maxOrdersPerEmployee,onChange:t=>i(r=>({...r,maxOrdersPerEmployee:parseInt(t.target.value)}))})]})]}),e.jsx(g,{type:"submit",children:"Einstellungen speichern"})]})]})}export{f as default};
