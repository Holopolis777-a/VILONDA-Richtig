import{c as o,j as e,U as h,a as d,R as c,B as p}from"./index-xKrTDA7N.js";import{T as x,S as m}from"./trending-up-Cvl7iMeF.js";import{u as f}from"./memberStore-CVVyh3M3.js";import{u as j}from"./orderStore-Tb90s500.js";import{u as b}from"./newsStore-dv9sXhGx.js";import{f as N}from"./dateUtils-DFVphTDA.js";import{B as w}from"./Badge-v6lJ1hQp.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=o("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=o("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=o("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=o("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function u({title:s,value:r,change:a,icon:t,color:l}){return e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:s}),e.jsx("p",{className:"text-2xl font-semibold mt-1",children:r}),e.jsxs("div",{className:`flex items-center mt-2 ${a.positive?"text-green-600":"text-red-600"}`,children:[a.positive?e.jsx(M,{className:"w-4 h-4"}):e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm ml-1",children:a.value})]})]}),e.jsx("div",{className:`p-3 rounded-full ${l}`,children:e.jsx(t,{className:"w-6 h-6 text-white"})})]})})}function S(){const s=[{title:"Gesamtumsatz",value:"€31k",change:{value:"+15% seit gestern",positive:!0},icon:x,color:"bg-pink-500"},{title:"Bestellungen",value:"300",change:{value:"+5% seit gestern",positive:!0},icon:m,color:"bg-orange-500"},{title:"Verkaufte Fahrzeuge",value:"5",change:{value:"+12% seit gestern",positive:!0},icon:h,color:"bg-green-500"},{title:"Neue Kunden",value:"8",change:{value:"+8.5% seit gestern",positive:!0},icon:A,color:"bg-purple-500"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((r,a)=>e.jsx(u,{...r},a))})}function B(){const{user:s}=d(),{getMembersForBroker:r}=f(),{orders:a}=j(),t=c.useMemo(()=>s!=null&&s.id?r(s.id):[],[s==null?void 0:s.id,r]),l=c.useMemo(()=>{const n=t.map(i=>i.id);return a.filter(i=>n.includes(i.userId)&&i.status==="confirmed").length},[a,t]),v=[{title:"Aktive Mitglieder",value:t.filter(n=>n.status==="active").length,change:{value:"+3% seit letztem Monat",positive:!0},icon:h,color:"bg-blue-500"},{title:"Abgeschlossene Verträge",value:l,change:{value:"+1 diese Woche",positive:!0},icon:m,color:"bg-green-500"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v.map((n,i)=>e.jsx(u,{...n},i))})}function U(){const s=[{title:"Aktive Verträge",value:"1",change:{value:"Läuft noch 24 Monate",positive:!0},icon:m,color:"bg-blue-500"},{title:"Gefahrene Kilometer",value:"2.450",change:{value:"7.550 km verbleibend",positive:!0},icon:x,color:"bg-green-500"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.map((r,a)=>e.jsx(u,{...r},a))})}function D(){const{user:s}=d(),{getNewsByAudience:r}=b(),a=c.useMemo(()=>s?r(s.role==="broker"?"broker":"member"):[],[s,r]);return a.length===0?e.jsx("div",{className:"bg-white rounded-lg p-6 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Keine aktuellen Neuigkeiten verfügbar."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Neuigkeiten"}),e.jsx("div",{className:"grid gap-4",children:a.map(t=>e.jsx("div",{className:"bg-white rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow border border-gray-100",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[t.images&&t.images.length>0&&e.jsx("div",{className:"md:w-2/5 lg:w-1/3",children:e.jsx("img",{src:t.images[0],alt:"",className:"w-full h-48 md:h-full object-cover"})}),e.jsx("div",{className:"flex-1 p-6",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(w,{variant:"info",children:t.targetAudience==="broker"?"Für Makler":"Für Mitglieder"}),e.jsx("span",{className:"text-sm text-gray-500",children:N(t.publishDate)})]}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title})]}),t.useHtml?e.jsx("div",{className:"prose prose-sm max-w-none mb-4",dangerouslySetInnerHTML:{__html:t.htmlContent||""}}):e.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:t.content}),t.links&&t.links.length>0&&e.jsx("div",{className:"mt-auto flex justify-end space-x-2",children:t.links.map((l,g)=>e.jsxs(p,{as:"a",href:l.url,target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 hover:bg-indigo-700 text-white inline-flex items-center",children:[l.text,e.jsx(y,{className:"w-4 h-4 ml-2"})]},g))})]})})]})},t.id))})]})}function H(){const{user:s}=d(),r=()=>{switch(s==null?void 0:s.role){case"admin":return e.jsx(S,{});case"broker":return e.jsx(B,{});case"user":return e.jsx(U,{});default:return null}};return e.jsxs("div",{className:"space-y-8",children:[r(),e.jsx(D,{})]})}export{H as default};
