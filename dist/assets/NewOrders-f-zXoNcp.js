import{j as e,B as r,f as l}from"./index-xKrTDA7N.js";import{u as d}from"./orderStore-Tb90s500.js";import{B as o}from"./Badge-v6lJ1hQp.js";import{f as h}from"./dateUtils-DFVphTDA.js";import{C as x}from"./clock-CXsEwfTr.js";import{C as g}from"./check-circle-DFIg8aHR.js";import{X as u}from"./x-circle-CCY05Z2t.js";function w(){const{orders:n,updateOrderStatus:i}=d(),a=n.filter(s=>s.status==="pending").sort((s,t)=>t.createdAt.getTime()-s.createdAt.getTime()),c=async s=>{try{await i(s,"confirmed"),l.success("Bestellung wurde bestätigt")}catch{l.error("Fehler beim Bestätigen der Bestellung")}},m=async s=>{try{await i(s,"cancelled"),l.success("Bestellung wurde abgelehnt")}catch{l.error("Fehler beim Ablehnen der Bestellung")}};return a.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(x,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Keine neuen Bestellungen"}),e.jsx("p",{className:"text-gray-500",children:"Aktuell liegen keine neuen Bestellungen zur Prüfung vor."})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Neue Bestellungen"}),e.jsxs(o,{variant:"info",children:[a.length," neue Bestellung(en)"]})]}),e.jsx("div",{className:"grid gap-6",children:a.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg overflow-hidden",children:e.jsx("img",{src:s.vehicle.image,alt:`${s.vehicle.make} ${s.vehicle.model}`,className:"w-full h-full object-cover"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s.vehicle.make," ",s.vehicle.model]}),e.jsxs("div",{className:"mt-1 space-y-1 text-sm text-gray-600",children:[e.jsxs("p",{children:["Bestellnummer: ",s.orderNumber]}),e.jsxs("p",{children:["Bestellt am: ",h(s.createdAt)]}),e.jsxs("p",{children:["Farbe: ",s.configuration.color]}),e.jsxs("p",{children:["Laufzeit: ",s.configuration.duration," Monate"]}),e.jsxs("p",{children:["Kilometer/Jahr: ",s.configuration.kilometers.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-semibold",children:[s.totalMonthlyRate.toFixed(2),"€ ",e.jsx("span",{className:"text-sm text-gray-500",children:"/Monat"})]}),e.jsxs("div",{className:"mt-4 space-x-2",children:[e.jsxs(r,{onClick:()=>c(s.id),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),"Bestätigen"]}),e.jsxs(r,{variant:"outline",onClick:()=>m(s.id),className:"text-red-600 hover:text-red-700",children:[e.jsx(u,{className:"w-4 h-4 mr-2"}),"Ablehnen"]})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Gewählte Services:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.configuration.services.map(t=>e.jsxs("div",{className:"text-sm text-gray-600",children:["• ",t]},t))})]})]},s.id))})]})}export{w as default};
