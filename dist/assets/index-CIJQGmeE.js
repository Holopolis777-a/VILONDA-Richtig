import{e as c,R as i,j as e,I as d,B as m,M as o}from"./index-xKrTDA7N.js";import{S as x}from"./send-BKXNh5eU.js";import{f as g}from"./dateUtils-DFVphTDA.js";const h=c(a=>({messages:[],loading:!1,error:null,sendMessage:async s=>{a({loading:!0});try{const t={id:Date.now().toString(),content:s,fromUser:!0,timestamp:new Date};a(r=>({messages:[...r.messages,t],loading:!1}))}catch{a({error:"Failed to send message",loading:!1})}},fetchMessages:async()=>{a({loading:!0});try{await new Promise(s=>setTimeout(s,1e3)),a({messages:[],loading:!1})}catch{a({error:"Failed to fetch messages",loading:!1})}}}));function u({onSend:a}){const[s,t]=i.useState(""),r=n=>{n.preventDefault(),s.trim()&&(a(s),t(""))};return e.jsxs("form",{onSubmit:r,className:"flex gap-4",children:[e.jsx(d,{value:s,onChange:n=>t(n.target.value),placeholder:"Ihre Nachricht...",className:"flex-1"}),e.jsxs(m,{type:"submit",disabled:!s.trim(),children:[e.jsx(x,{className:"w-4 h-4 mr-2"}),"Senden"]})]})}function p({messages:a}){return e.jsx("div",{className:"space-y-4",children:a.map(s=>e.jsxs("div",{className:`p-4 rounded-lg ${s.fromUser?"bg-primary-50 ml-12":"bg-gray-50 mr-12"}`,children:[e.jsx("p",{className:"text-gray-900",children:s.content}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g(s.timestamp)})]},s.id))})}function N(){const{messages:a,sendMessage:s,fetchMessages:t,loading:r}=h();i.useEffect(()=>{t()},[t]);const n=async l=>{await s(l)};return e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-primary-400 rounded-xl",children:e.jsx(o,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold",children:"Nachrichten"}),e.jsx("p",{className:"text-gray-500",children:"Ihre Kommunikation mit unserem Team"})]})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"space-y-6",children:[r?e.jsx("div",{className:"text-center py-4",children:"LÃ¤dt..."}):e.jsx(p,{messages:a}),e.jsx(u,{onSend:n})]})})]})}export{N as default};
