import{e as c,s as l}from"./index-xKrTDA7N.js";const d=[{id:"1",make:"BMW",model:"3 Series",year:2024,type:"limousine",status:"available",color:"Alpine White",mileage:0,fuelType:"benzin",transmission:"automatik",power:374,engineSize:3e3,equipmentVariant:"M Sport",deliveryTime:12,standardEquipment:`Klimaanlage
Zentralverriegelung
Elektrische Fensterheber
Bordcomputer
Servolenkung`,grossListPrice:45e3,customEquipment:["Head-up Display","Harman Kardon Soundsystem","Driving Assistant Professional"],images:["https://images.unsplash.com/photo-1555215695-3004980ad54e?auto=format&fit=crop&w=800"],features:["LED Headlights","Navigation","Leather Seats"],customFeatures:{},availableColors:[{name:"Alpine White",code:"#FFFFFF",type:"solid"},{name:"Black Sapphire",code:"#000000",type:"metallic",price:1200}],services:{insurance:!0,maintenance:!0,delivery:!0,winterTires:!0,gap:!0,roadside:!0,damageManagement:!0},servicePrices:{insurance:89,maintenance:59,winterTires:39,gap:19,roadside:15,damageManagement:29},leasingRates:{"36_10000":499,"36_15000":549,"36_20000":599,"48_10000":459,"48_15000":509,"48_20000":559},oneTimeCosts:{registration:179,homeDelivery:249,transfer:890}}],h=c(e=>({vehicles:d,filters:{},loading:!1,error:null,fetchVehicles:async()=>{e({loading:!0});try{const{data:i,error:r}=await l.from("regular_vehicles").select("*");if(r)throw r;e({vehicles:i||[],loading:!1})}catch(i){console.error("Error fetching vehicles:",i),e({error:"Failed to fetch vehicles",loading:!1})}},addVehicle:async i=>{var r;e({loading:!0});try{const t=Object.entries({make:"Marke",model:"Modell",year:"Baujahr",type:"Fahrzeugtyp",fuelType:"Kraftstoffart",transmission:"Getriebe",power:"Leistung",grossListPrice:"Bruttolistenpreis"}).filter(([s])=>!i[s]).map(([,s])=>s);if(t.length>0)throw new Error(`Bitte fÃ¼llen Sie folgende Pflichtfelder aus: ${t.join(", ")}`);const{data:o,error:n}=await l.from("regular_vehicles").insert([{...i,status:"available",created_by:(r=l.auth.getUser())==null?void 0:r.id}]).select().single();if(n)throw n;o&&e(s=>({vehicles:[...s.vehicles,o],loading:!1}))}catch(a){throw console.error("Error adding vehicle:",a),e({error:"Failed to add vehicle",loading:!1}),a}},updateVehicle:async(i,r)=>{e({loading:!0});try{await new Promise(a=>setTimeout(a,1e3)),e(a=>({vehicles:a.vehicles.map(t=>t.id===i?{...t,...r}:t),loading:!1}))}catch{e({error:"Failed to update vehicle",loading:!1})}},deleteVehicle:async i=>{e({loading:!0});try{await new Promise(r=>setTimeout(r,1e3)),e(r=>({vehicles:r.vehicles.filter(a=>a.id!==i),loading:!1}))}catch{e({error:"Failed to delete vehicle",loading:!1})}}}));export{h as u};
